# 查询筛选

# 1. 属性筛选

`Ofnil` 支持基于属性的筛选，不匹配的数据将不显示在画布上。

- 添加筛选器，最多支持4个筛选器
- 选择点边的属性，选择完成后将自动生成合适的图表，目前支持三种形式的筛选器：
    - `String` 类型属性：支持饼状图、柱状图显示与筛选，
    - `Number` 类型属性：支持直方图显示。
    - `Date`  类型属性：支持直方图显示，支持显示时间轴及时间轴相关配置。

![](https://static.kasma.ai/document/202405271815318.png?x-oss-process=style/document)

以下是的时间轴动态播放的演示效果：

![](https://static.kasma.ai/document/202405271815322.gif?x-oss-process=style/document)

# 2. 点查询

`Ofnil` 支持通过表达式进行查询，多个表达式可以用逻辑运算组合，进行点边查询。查询结果在可视化将以 `高亮` 的形式展示。

表达式的计算操作类型有：

| 类型 | 描述 |
| --- | --- |
| = | 等于 |
| > | 大于 |
| ≥ | 大于等于 |
| ≤ | 小于等于 |
| ≠ | 不等于 |
| contains | 包含 |
| starts with | 以...开头 |
| is null or empty | 为空 |

点查询指的通过表达式查询出图中的`点集合A`，再过滤出起点和终点都存在于`点集合A`的`边集合B`，`点集合A` 和`边集合B`组成的图即为最终查询结果。

点查询类型：

| 操作类型 | 描述 |
| --- | --- |
| 点属性 | 通过点的属性查询 |
| 点Id | 通过点的唯一Id查询 |

![](https://static.kasma.ai/document/202405271815320.png?x-oss-process=style/document)

# 3. 边查询

边查询指的通过表达式查询出图中的`边集合A`，再计算出边集合A中所有边的起点和终点的`点集合B`，`边集合A`和`点集合B`组成的图即为最终查询结果。
边查询类型：

| 操作类型 | 描述 |
| --- | --- |
| 边属性 | 通过边的属性查询 |
| 起点Id | 通过起点的Id查询 |
| 终点Id | 通过终点的Id查询 |
| 起点属性 | 通过起点的属性查询 |
| 终点属性 | 通过终点的属性查询 |

![](https://static.kasma.ai/document/202405271815321.png?x-oss-process=style/document)

# 4. 路径查询

参数说明：

| 操作类型 | 描述 |
| --- | --- |
| 起点Id | 路径起点的Id |
| 终点Id | 路径终点的Id |
| 最短路径 | 是否只查询最短路径 |
| 终点属性 | 通过终点的属性查询 |

![](https://static.kasma.ai/document/202405271815319.png?x-oss-process=style/document)